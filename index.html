<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Jsonnet - Jsonnet Configuration Language</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <meta name="keywords" content="Jsonnet, JSON, YAML, language, configuration, configuration language, functional, declarative, lazy, structured, elegant, semantics, clean, mixins, inheritance, template, expansion, expand" />
    <meta name="description" content="A powerful DSL for elegant description of JSON data." />
    <meta name="viewport" content="width=576">

    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- MathJax (for semantics) -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        displayAlign: "left",
        imageFont: null,
    });
    </script>
    <script type="text/javascript" src="/third_party/MathJax-2.7.2/MathJax.js"></script>
    <script type="text/javascript" src="/third_party/anchor.min.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53570216-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,400,600,700" rel="stylesheet" type="text/css">

    <!-- CodeMirror -->
    <link rel="stylesheet" href="/third_party/CodeMirror/lib/codemirror.css">
    <script src="/third_party/js-yaml/dist/js-yaml.min.js"></script>
    <script src="/third_party/CodeMirror/lib/codemirror.js"></script>
    <script src="/third_party/CodeMirror/mode/yaml/yaml.js"></script>
    <script src="/third_party/CodeMirror/addon/edit/matchbrackets.js"></script>
    <script src="/js/codemirror-mode-jsonnet.js"></script>

    <!-- Executing Jsonnet -->
    <script src="/js/wasm_exec.js"></script>
    <script>
        if (!WebAssembly.instantiateStreaming) {
            // This function was observed to be missing on Safari 14.
            WebAssembly.instantiateStreaming = async (resp, importObject) => {
                const source = await (await resp).arrayBuffer();
                return await WebAssembly.instantiate(source, importObject);
            };
        }
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("/js/libjsonnet.wasm"), go.importObject).then((result) => {
            go.run(result.instance);
        });
    </script>
    <script src="/js/demo.js"></script>

    <!-- Navigation menus -->
    <script src="/js/menu.js"></script>

    <!-- jsonnet.org stylesheet -->
    <link rel="stylesheet" type="text/css" href="/css/doc.css" />
    <link rel="stylesheet" media="print" href="/css/desktop.css">
    <!-- The extra 16px is to account for the scrollbar, which is not always included. -->
    <link rel="stylesheet" media="screen and (min-width: 1296px)" href="/css/desktop.css">
    <link rel="stylesheet" media="screen and (max-width: 1295px) and (min-width: 720px)" href="/css/cellphone.css">
    <link rel="stylesheet" media="screen and (max-width: 719px)" href="/css/cellphone-small.css">
</head>

<body>

<div id=header>
  <div class=header2>
    <a id=header-logo class=header-element href="/"><img src="/img/isologo.svg"></a>
    <a id=header-title class=header-element href="/">Jsonnet</a>

    <div class="header-element menu">
      <div onclick='menu_open_popup(find_enclosing_menu(this))' onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        Learning
      </div>
      <div class=pop-up onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        <a href="/learning/tutorial.html">Tutorial</a>
        <a href="/learning/getting_started.html">Getting Started</a>
        <a href="/learning/tools.html">Tools</a>
        <a href="/learning/community.html">Community</a>
      </div>
    </div>

    <div class="header-element menu">
      <div onclick='menu_open_popup(find_enclosing_menu(this))' onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        Reference
      </div>
      <div class=pop-up onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        <a href="/ref/language.html">Language Reference</a>
        <a href="/ref/stdlib.html">Standard Library</a>
        <a href="/ref/spec.html">Specification</a>
        <a href="/ref/bindings.html">Bindings</a>
      </div>
    </div>

    <div class="header-element menu">
      <div onclick='find_enclosing_menu(menu_open_popup(this))' onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        Articles
      </div>
      <div class=pop-up onmouseover='menu_open_popup(find_enclosing_menu(this))' onmouseout='menu_leave()'>
        <a href="/articles/fractal.1.html">Terraform & Packer</a>
        <a href="/articles/kubernetes.html">Kubernetes</a>
        <a href="/articles/output-formats.html">Output Formats</a>
        <a href="/articles/design.html">Design Rationale</a>
        <a href="/articles/comparisons.html">Comparisons</a>
      </div>
    </div>
    <a id=groupsmark class=header-element href="https://groups.google.com/g/jsonnet"></a>
    <a id=githubmark class=header-element href="https://github.com/google/jsonnet"></a>
    <a id=gomark class=header-element href="https://github.com/google/go-jsonnet"></a>
  </div>
</div>

<div class=hgroup>
  <div class=hgroup-inline>
    <div class=panel>
      <table>
        <tr>
          <td><img id=big-logo src=img/isologo.svg></td>
          <td class=side-text>
            <p>
              A configuration language<br>
              for app and tool developers
            </p>
            <ul>
              <li>Generate config data</li>
              <li>Side-effect free</li>
              <li>Organize, simplify, unify</li>
              <li>Manage sprawling config</li>
            </ul>
          </td>
        </tr>
      </table>
    </div>
    <div class=panel>
      <table class=venn>
        <tr>
          <td>
            <p>
              A simple extension of <a href="https://json.org/">JSON</a><br>
            </p>
            <ul>
              <li>Open source (Apache 2.0)</li>
              <li>Familiar syntax</li>
              <li>Reformatter, linter</li>
              <li>Editor &amp; IDE integrations</li>
              <li>Formally specified</li>
            </ul>
          </td>
          <td class=venn-cell><img id=venn src=img/venn.svg></td>
        </tr>
      </table>
    </div>
    <div style="clear: both"></div>
  </div>
</div>

<div class=hgroup>
  <div class=hgroup-inline>
    <div class=panel>
      <p class=center>Eliminate duplication with object-orientation:</p>
    </div>
    <div style="clear: both"></div>
  </div>
</div>

<div class="inverse hgroup">
  <div class=hgroup-inline>
    <div class="tab-window-input" id="example1-input">
      <div class="tab-header">
      </div>
      <textarea id=example1-jsonnet autofocus>
        // Edit me!
        {
          person1: {
            name: "Alice",
            welcome: "Hello " + self.name + "!",
          },
          person2: self.person1 { name: "Bob" },
        }
      </textarea>
    </div>
    <div class="bigarrow">➡</div>
    <div class="tab-window-output" id="example1-output">
      <div class="tab-header">
        <div class=selected onclick="tab_output_click(this, 'example1-json-output')">
          output.json
        </div>
      </div>
      <textarea readonly class="selected code-json" id="example1-json-output">
        {
          "person1": {
            "name": "Alice",
            "welcome": "Hello Alice!"
          },
          "person2": {
            "name": "Bob",
            "welcome": "Hello Bob!"
          }
        }
      </textarea>
    </div>
    <script>
      demo(
        'example1-input',
        {
          'example1-jsonnet': 'example1.jsonnet',
        },
        'example1.jsonnet',
        'example1-output',
        false,
        false
      );
    </script>
    <div style="clear: both"></div>
  </div>
</div>

<div class=hgroup>
  <div class=hgroup-inline>
    <div class=panel>
      <p class=center>Or, use functions:</p>
    </div>
    <div style="clear: both"></div>
  </div>
</div>

<div class="inverse hgroup">
  <div class=hgroup-inline>
    <div class="tab-window-input" id="example2-input">
      <div class="tab-header">
      </div>
      <textarea id=example2-jsonnet autofocus>
        // A function that returns an object.
        local Person(name='Alice') = {
          name: name,
          welcome: 'Hello ' + name + '!',
        };
        {
          person1: Person(),
          person2: Person('Bob'),
        }
      </textarea>
    </div>
    <div class="bigarrow">➡</div>
    <div class="tab-window-output" id="example2-output">
      <div class="tab-header">
        <div class=selected onclick="tab_output_click(this, 'example2-json-output')">
          output.json
        </div>
      </div>
      <textarea readonly class="selected code-json" id="example2-json-output">
        {
          "person1": {
            "name": "Alice",
            "welcome": "Hello Alice!"
          },
          "person2": {
            "name": "Bob",
            "welcome": "Hello Bob!"
          }
        }
      </textarea>
    </div>
    <script>
      demo(
        'example2-input',
        {
          'example2-jsonnet': 'example2.jsonnet',
        },
        'example2.jsonnet',
        'example2-output',
        false,
        false
      );
    </script>
    <div style="clear: both"></div>
  </div>
</div>

<div class=hgroup>
  <div class=hgroup-inline>
    <div class=panel>
      <p class=center>
        Integrate with existing / custom applications.<br>
        Generate JSON, YAML, INI, and other formats.
      </p>
    </div>
    <div style="clear: both"></div>
  </div>
</div>

<div class="inverse hgroup">
  <div class=hgroup-inline>
    <div class="tab-window-input" id="example3-input">
      <div class="tab-header">
      </div>
      <textarea id=example3-jsonnet>
        local application = 'my-app';
        local module = 'uwsgi_module';
        local dir = '/var/www';
        local permission = 644;

        {
          'uwsgi.ini': std.manifestIni({
            sections: {
              uwsgi: {
                module: module,
                pythonpath: dir,
                socket: dir + '/uwsgi.sock',
                'chmod-socket': permission,
                callable: application,
                logto: '/var/log/uwsgi/uwsgi.log',
              },
            },
          }),

          'init.sh': |||
            #!/usr/bin/env bash
            mkdir -p %(dir)s
            touch %(dir)s/initialized
            chmod %(perm)d %(dir)s/initialized
          ||| % {dir: dir, perm: permission},

          'cassandra.conf': std.manifestYamlDoc({
            cluster_name: application,
            seed_provider: [
              {
                class_name: 'SimpleSeedProvider',
                parameters: [{ seeds: '127.0.0.1' }],
              },
            ],
          }),
        }
      </textarea>
    </div>
    <div class="bigarrow">➡</div>
    <div class="tab-window-output" id="example3-output">
      <div class="tab-header">
        <div class=selected onclick="tab_output_click(this, 'example3-yaml-output')">
          cassandra.conf
        </div>
        <div class=unselected onclick="tab_output_click(this, 'example3-sh-output')">
          init.sh
        </div>
        <div class=unselected onclick="tab_output_click(this, 'example3-ini-output')">
          uwsgi.ini
        </div>
      </div>
      <textarea readonly class="selected code-json" id="example3-yaml-output">
        "cluster_name": "my-app"
        "seed_provider":
        - "class_name": "SimpleSeedProvider"
          "parameters":
          - "seeds": "127.0.0.1"
      </textarea>
      <textarea readonly class="unselected code-json" id="example3-sh-output">
        #!/usr/bin/env bash
        mkdir -p /var/www
        touch /var/www/initialized
        chmod 644 /var/www/initialized
      </textarea>
      <textarea readonly class="unselected code-json" id="example3-ini-output">
        [uwsgi]
        callable = my-app
        chmod-socket = 644
        logto = /var/log/uwsgi/uwsgi.log
        module = uwsgi_module
        pythonpath = /var/www
        socket = /var/www/uwsgi.sock
      </textarea>
    </div>
    <script>
      demo(
        'example3-input',
        {
          'example3-jsonnet': 'example3.jsonnet',
        },
        'example3.jsonnet',
        'example3-output',
        true,
        true
      );
    </script>
    <div style="clear: both"></div>
  </div>
</div>

<div class=hgroup>
  <div class=hgroup-inline>
    <div class=panel>
      <p class=padded>
        The name Jsonnet is a portmanteau of JSON and <a
        href="https://en.wikipedia.org/wiki/Sonnet"><i>sonnet</i></a>, pronounced "jay sonnet".  It
        began life early 2014 as a 20% project and was launched on Aug 6.  The design is influenced
        by several configuration languages internal to Google, and embodies years of experience
        configuring some of the world's most complex IT systems.  Jsonnet is now used by many
        companies and projects.  Jsonnet is not an official Google product (experimental or
        otherwise), it is just code that happens to be owned by Google.
      </p>
    </div>

    <div class=panel>
      <p class=center>
        <a href='https://bitnami.com'><img class=user-logo src=img/users/bitnami.png></a>
        <!--
        <a href='https://www.box.com'><img class=user-logo src=img/users/box.jpg></a>
        <a href='https://coreos.com'><img class=user-logo src=img/users/coreos.svg></a>
        <a href='https://databricks.com'><img class=user-logo src=img/users/databricks.png></a>
        <a href='https://vr.google.com/daydream/'>
          <img class=user-logo src=img/users/daydream-logo.png></a>
        -->
        <a href='https://deepmind.com'><img class=user-logo src=img/users/deepmind.png></a>
        <a href='https://grafana.com'><img class=user-logo src=img/users/grafana.svg></a>
        <!--
        <a href='https://www.spinnaker.io'><img class=user-logo src=img/users/spinnaker.png></a>
        -->
      </p class=center>
    </div>
    <div style="clear: both"></div>
  </div>
</div>



<div class="inverse hgroup">
  <div class="hgroup-inline">
    <div class="panel">
      <p class=footer>
        Except as noted, this content is licensed under Creative Commons Attribution 2.5.
      </p>
    </div>
  </div>
</div>

<script>
  anchors.options = {
    placement: 'right',
    visible: 'always',
    icon: '#'
  };
  anchors.add('h2,h3');
</script>
</body>

</html>

